import{d as T,r as u,Y as $,z as f,K as N,f as v,e as t,g as l,w as s,k as y,T as o,t as C,F,o as p,ad as V}from"../modules/vue-COVHUBV1.js";import{u as H,a as B,d as m,e as E,f as D,s as I}from"../index-Ba1sqhex.js";import{_ as L,C as K}from"./NoteDisplay.vue_vue_type_style_index_0_lang-ckiZ3Jf0.js";import{_ as i}from"./IconButton.vue_vue_type_script_setup_true_lang-CtFJpYHz.js";import{_ as M}from"./Modal.vue_vue_type_script_setup_true_lang-DBBYVLV_.js";import"../modules/shiki-CzOeH8nK.js";const R={class:"flex my-1"},U={class:"h-full pt-2 flex flex-col"},Y={class:"flex-none border-t border-main",px3:"",py2:""},j={class:"flex-none border-t border-main"},q={class:"flex gap-1 items-center px-6 py-3"},A={key:0,class:"i-carbon:minimize"},G={key:1,class:"i-carbon:maximize"},J={class:"p2 text-center"},le=T({__name:"notes",setup(O){H({title:`Notes - ${I}`});const{slides:z,total:x}=B(),{isFullscreen:k,toggle:h}=D,_=u(),n=$("slidev-notes-font-size",18),a=f(()=>m.page),r=u(!1),b=f(()=>z.value.find(d=>d.no===a.value));N(a,()=>{_.value?.scrollTo({left:0,top:0,behavior:"smooth"}),window.scrollTo({left:0,top:0,behavior:"smooth"})});function w(){n.value=n.value+1}function S(){n.value=n.value-1}const g=f(()=>{const d=m.clicks,e=m.clicksTotal;return E(u(d),void 0,e)});return(d,e)=>(p(),v(F,null,[t(M,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=c=>r.value=c),class:"px-6 py-4 flex flex-col gap-2"},{default:s(()=>[e[3]||(e[3]=l("div",{class:"flex gap-2 text-xl"},[l("div",{class:"i-carbon:information my-auto"}),V(" Help ")],-1)),e[4]||(e[4]=l("div",{class:"prose dark:prose-invert"},[l("p",null,"This is the hands-free live notes viewer."),l("p",null,"It's designed to be used in a separate view or device. The progress is controlled by and auto synced with the main presenter or slide.")],-1)),l("div",R,[l("button",{class:"slidev-form-button",onClick:e[0]||(e[0]=c=>r.value=!1)}," Close ")])]),_:1},8,["modelValue"]),l("div",{class:"fixed top-0 left-0 h-3px bg-primary transition-all duration-500",style:y({width:`${(a.value-1)/(o(x)-1)*100+1}%`})},null,4),l("div",U,[l("div",{ref_key:"scroller",ref:_,class:"px-5 flex-auto h-full overflow-auto",style:y({fontSize:`${o(n)}px`})},[t(L,{note:b.value?.meta.slide.note,"note-html":b.value?.meta.slide.noteHTML,placeholder:`No notes for Slide ${a.value}.`,"clicks-context":g.value,"auto-scroll":!0},null,8,["note","note-html","placeholder","clicks-context"])],4),l("div",Y,[t(K,{"clicks-context":g.value,readonly:""},null,8,["clicks-context"])]),l("div",j,[l("div",q,[t(i,{title:o(k)?"Close fullscreen":"Enter fullscreen",onClick:o(h)},{default:s(()=>[o(k)?(p(),v("div",A)):(p(),v("div",G))]),_:1},8,["title","onClick"]),t(i,{title:"Increase font size",onClick:w},{default:s(()=>[...e[5]||(e[5]=[l("div",{class:"i-carbon:zoom-in"},null,-1)])]),_:1}),t(i,{title:"Decrease font size",onClick:S},{default:s(()=>[...e[6]||(e[6]=[l("div",{class:"i-carbon:zoom-out"},null,-1)])]),_:1}),t(i,{title:"Edit notes",to:"/notes-edit",target:"_blank"},{default:s(()=>[...e[7]||(e[7]=[l("div",{class:"i-carbon:edit"},null,-1)])]),_:1}),t(i,{title:"Help",class:"rounded-full",onClick:e[2]||(e[2]=c=>r.value=!0)},{default:s(()=>[...e[8]||(e[8]=[l("div",{class:"i-carbon:help"},null,-1)])]),_:1}),e[9]||(e[9]=l("div",{class:"flex-auto"},null,-1)),l("div",J,C(a.value)+" / "+C(o(x)),1)])])])],64))}});export{le as default};
